/*!
 * JK GIF Player v0.5.0
 * by Jean KÃ¡ssio
 *
 * More info:
 * https://jeankassio.dev
 *
 * Copyright JK Desenvolvimento WEB <contato@jeankassio.dev> - https://jeankassio.dev
 * Released under the MIT license
 * https://github.com/jeankassio/JK-GIF-Player-jQuery/blob/main/LICENSE
 *
 * @preserve
 */ !function(t){t.fn.JKGifPlayer=function(i){$jkgifs=[];var i=t.extend({autoplay:!1,data:"gif",autopause:!1,loops:5},i);function a(a,e,r,d,h){""==d||void 0===d?(e.data("thumb",r),e.attr("src",h),e.data("gif",""),a.addClass("play_gif"),t(a).trigger("play.JK_Gif"),i.autopause&&function a(e,r,d,h=!1){$jkgifs[n(t(e))]=setTimeout(function(i){(d=($gif=t(e)).children("img").eq(0)).data("gif",d.attr("src")),d.attr("src",d.data("thumb")),d.data("thumb",""),$gif.removeClass("play_gif"),t(e).trigger("stop.JK_Gif")},h?0:Number(t(e).children("img").eq(0).data("seconds"))*i.loops*1e3)}(a,h,r)):(e.data("gif",r),e.attr("src",d),e.data("thumb",""),a.removeClass("play_gif"),t(a).trigger("stop.JK_Gif"),i.autopause&&clearTimeout($jkgifs[n(a)]))}function n(i){var a,n;return t(i).attr("id")??(a=i,n=Math.random(50).toString(),t(a).attr("id",n),n)}async function e(t){await r(t)}async function r(i){var a=new Image;a.setAttribute("crossOrigin","anonymous"),a.src=t(i).children("img").eq(0).data("gif"),a.onload=function(){var n=document.createElement("canvas");n.height=this.naturalHeight,n.width=this.naturalWidth,n.getContext("2d").drawImage(this,0,0),function i(a,n){fetch(n).then(t=>t.arrayBuffer()).then(t=>(function t(i){let a=0;for(let n=0,e=i.length;n<e;n++)if(33==i[n]&&249==i[n+1]&&4==i[n+2]&&0==i[n+7]){let r=i[n+5]<<8|255&i[n+4];a+=r<2?10:r}return[a/100,10*a]})(new Uint8Array(t))).then(function(i){$duration=i,t(a).data("seconds",$duration[0]),t(a).data("miliseconds",$duration[1])})}(t(i).children("img").eq(0),a.src),t(i).children("img").eq(0).data("width",n.width),t(i).children("img").eq(0).data("height",n.height),t(i).children("img").eq(0).attr("src",n.toDataURL())},await a.decode()}return t.fn.PlayStop_Gif=function(){$imgSrc=($img=($gif=t(this)).children("img").eq(0)).attr("src"),$imgThumb=$img.data("thumb"),$imgGif=$img.data("gif"),a($gif,$img,$imgSrc,$imgThumb,$imgGif)},t.fn.GetSize_Gif=function(){return{width:t(this).children("img").eq(0).data("width"),height:t(this).children("img").eq(0).data("height")}},t.fn.GetHeight_Gif=function(){return t(this).children("img").eq(0).data("height")},t.fn.GetWidth_Gif=function(){return t(this).children("img").eq(0).data("width")},t.fn.GetDuration_Gif=function(){return t(this).children("img").eq(0).data("seconds")},t.fn.GetDurationMili_Gif=function(){return t(this).children("img").eq(0).data("miliseconds")},this.each(function(n){var r,d;r=this,d=i,t(r).addClass("jk_gif").append([t("<img/>").data("gif",t(r).data(d.data)).data("thumb","").attr("src","")]),e(r),t(r).click(function(i){$imgSrc=($img=($gif=t(this)).children("img").eq(0)).attr("src"),$imgThumb=$img.data("thumb"),$imgGif=$img.data("gif"),a($gif,$img,$imgSrc,$imgThumb,$imgGif)})})}}(jQuery);